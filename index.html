<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cropit</title>
  <link rel="icon" href="Cropiserverinlogo.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(-45deg, #ff8a00, #ffc300, #ff8a00, #ffc300);
      background-size: 400% 400%;
      animation: gradientMove 8s ease infinite;
      color: white;
      text-align: center;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    header img {
      width: 150px;
      margin-top: 40px;
      filter: drop-shadow(0px 4px 8px rgba(0,0,0,0.4));
    }

    h1 {
      font-size: 2.8em;
      margin: 10px 0;
      text-shadow: 0 3px 8px rgba(0,0,0,0.4);
    }

    p.description {
      font-size: 1.2em;
      margin-bottom: 40px;
      opacity: 0.9;
    }

    .button-container {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 40px;
    }

    button {
      background: linear-gradient(135deg, #ff7b00, #ffbb00);
      border: none;
      color: white;
      padding: 15px 28px;
      border-radius: 14px;
      font-size: 1.1em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }

    button:hover {
      transform: scale(1.07);
      box-shadow: 0 6px 16px rgba(0,0,0,0.4);
    }

    form {
      background: rgba(255, 255, 255, 0.1);
      padding: 30px;
      border-radius: 16px;
      width: 90%;
      max-width: 550px;
      margin: auto;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      backdrop-filter: blur(10px);
    }

    input, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 8px;
      margin-bottom: 15px;
      border: none;
      border-radius: 8px;
      outline: none;
      font-family: 'Poppins';
      font-size: 1em;
    }

    textarea {
      resize: none;
      height: 80px;
    }

    #submit {
      background: linear-gradient(135deg, #ff7b00, #ffbb00);
      transition: background 0.5s ease;
    }

    #submit.ready {
      background: linear-gradient(135deg, #00b34a, #00e65a);
    }

    footer {
      font-size: 0.9em;
      padding: 20px;
      opacity: 0.9;
    }

    .notice {
      font-size: 0.9em;
      background: rgba(255,255,255,0.15);
      margin: 10px;
      padding: 10px;
      border-radius: 10px;
      box-shadow: inset 0 0 8px rgba(255,255,255,0.2);
    }

    .popup {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 15px 25px;
      border-radius: 10px;
      font-weight: 500;
      opacity: 0;
      pointer-events: none;
      animation: fadePopup 2s ease forwards;
    }

    @keyframes fadePopup {
      0% { opacity: 0; transform: translate(-50%, 20px); }
      10% { opacity: 1; transform: translate(-50%, 0); }
      90% { opacity: 1; }
      100% { opacity: 0; transform: translate(-50%, 20px); }
    }
  </style>
</head>
<body>
  <header>
    <img src="Cropiserverinlogo.png" alt="Cropit logo">
    <h1>Cropit</h1>
    <p class="description">Cropit on suomalainen Minecraft- ja Discord-palvelinprojekti.</p>
  </header>

  <div class="button-container">
    <button onclick="showServerInfo()">Minecraft-serverin IP</button>
    <button onclick="window.open('https://discord.gg/bFCbWS5Kz6')">Discord</button>
  </div>

  <form id="applyForm">
    <input type="text" id="name" placeholder="Minecraft-nimi" required>
    <input type="text" id="age" placeholder="Ik√§" required>
    <input type="text" id="strengths" placeholder="Vahvuudet" required>
    <input type="text" id="weaknesses" placeholder="Heikkoudet" required>
    <textarea id="reason" placeholder="Miksi haluat CropitSMP:lle?" required></textarea>
    <textarea id="other" placeholder="Muuta" required></textarea>
    <button type="submit" id="submit">L√§het√§ hakemus</button>
  </form>

  <div class="notice">
    ‚ö†Ô∏è Croppien palvelimilla pelaamalla hyv√§ksyt, ett√§ tapahtumien yhteydess√§ sinusta voidaan tuottaa sosiaalisen median sis√§lt√∂√§. ‚ö†Ô∏è
  </div>

  <footer>
    ¬© 2025 ArgquZ ‚Äî Kaikki oikeudet pid√§tet√§√§n. Sivun sis√§lt√∂ ja ulkoasu ovat tekij√§n omaisuutta, eik√§ niit√§ saa kopioida tai julkaista muilla nimill√§.
  </footer>

  <script>
    const form = document.getElementById('applyForm');
    const submitBtn = document.getElementById('submit');
    const webhookURL = "https://discord.com/api/webhooks/1432615073657913404/DmpECDtO8zx91vVKXRALw9F2zyVgKS3u5JSHMzOwVcrEjQIkzkgahlFcbrQCY2lNioSl";

    function showPopup(msg) {
      const popup = document.createElement('div');
      popup.className = 'popup';
      popup.textContent = msg;
      document.body.appendChild(popup);
      setTimeout(() => popup.remove(), 2000);
    }

    function showServerInfo() {
      showPopup("Serveri√§ ei ole viel√§ avattu!");
    }

    form.addEventListener('input', () => {
      const allFilled = [...form.querySelectorAll('input, textarea')].every(el => el.value.trim() !== "");
      submitBtn.classList.toggle('ready', allFilled);
    });

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const name = form.name.value.trim();
      const age = form.age.value.trim();
      const strengths = form.strengths.value.trim();
      const weaknesses = form.weaknesses.value.trim();
      const reason = form.reason.value.trim();
      const other = form.other.value.trim();

      if (!name || !age || !strengths || !weaknesses || !reason || !other) {
        showPopup("T√§yt√§ kaikki kohdat ennen l√§hett√§mist√§!");
        return;
      }

      const payload = {
        content: `üìù **Uusi hakemus CropitSMP:lle**\n**Nimi:** ${name}\n**Ik√§:** ${age}\n**Vahvuudet:** ${strengths}\n**Heikkoudet:** ${weaknesses}\n**Miksi mukaan:** ${reason}\n**Muuta:** ${other}`
      };

      try {
        await fetch(webhookURL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });
        showPopup("‚úÖ Hakemus l√§hetetty onnistuneesti!");
        form.reset();
        submitBtn.classList.remove('ready');
      } catch {
        showPopup("‚ùå Virhe hakemuksen l√§hett√§misess√§!");
      }
    });
  </script>
</body>
</html>
